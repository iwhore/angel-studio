<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/feedback.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
      rel="stylesheet"
    />
    <title>Document</title>
  </head>
  <body>
    <header class="container">
      <div class="header">
        <a href="/index.html"><img class="logo" src="/images/logo.PNG" alt=""></a>
        <nav class="nav-menu">
          <ul>
            <li><a href="/index.html">–ì–û–õ–û–í–ù–ê</a></li>
            <li><a href="/pages/team.html">–ù–ê–®–ê –ö–û–ú–ê–ù–î–ê</a></li>
            <li><a href="/pages/services.html">–ü–û–°–õ–£–ì–ò</a></li>
            <li><a href="/pages/job.html">–í–ê–ö–ê–ù–°–Ü–á</a></li>
            <li><a href="/pages/about-us.html">–ü–†–û –ù–êC</a></li>
            <li><a href="/pages/feedback.html">–í–Ü–î–ì–£–ö–ò</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <section class="container">
      <h2>–í–Ü–î–ì–£–ö–ò</h2>
      <div id="review-container" class="review-container">
        <div class="review">
          <div class="avatar">
            <img src="/images/peaple/first.png" alt="–û–ª—å–≥–∞" />
          </div>
          <div class="review-content">
            <div class="name">–û–ª—å–≥–∞</div>
            <div class="text">
              –ú–æ—è —Å—ñ–º‚Äô—è —î –ø–æ—Å—Ç—ñ–π–Ω–∏–º –∫–ª—ñ—î–Ω—Ç–æ–º –í–∞—à–æ–≥–æ —Å–∞–ª–æ–Ω—É. –î—É–∂–µ –∑—Ä—É—á–Ω–æ, —â–æ —É—Å—ñ
              –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–æ—Å–ª—É–≥–∏ –∑—ñ–±—Ä–∞–Ω—ñ –≤ –æ–¥–Ω–æ–º—É —Å–∞–ª–æ–Ω—ñ. –ê —Å–æ–ª—è–Ω–∞ –∫—ñ–º–Ω–∞—Ç–∞ ‚Äî —Ü–µ
              –º–∞—Å—Ç—Ö–µ–≤ –∫–æ–∂–Ω–æ—ó –æ—Å–µ–Ω—ñ –¥–ª—è –Ω–∞—à–∏—Ö –¥—ñ—Ç–ª–∞—Ö—ñ–≤! –Ü –º–∞–º–∞ –≤—ñ–¥–ø–æ—á–∏–≤–∞—î –≤ —Ç–æ–π
              —á–∞—Å, —ñ –¥—ñ—Ç–∏ –Ω–µ —Ö–≤–æ—Ä—ñ—é—Ç—å :)
            </div>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          </div>
        </div>
        <div class="review">
          <div class="avatar">
            <img src="/images/peaple/second.png" alt="–Ø—Ä–∏–Ω–∞" />
          </div>
          <div class="review-content">
            <div class="name">–Ø—Ä–∏–Ω–∞</div>
            <div class="text">
              –û–¥–∏–Ω –∑ –Ω–µ–±–∞–≥–∞—Ç—å–æ—Ö —Å–∞–ª–æ–Ω—ñ–≤, –¥–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ –≤—ñ–¥–Ω–æ—Å—è—Ç—å—Å—è –¥–æ
              —Å—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—ó —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤! –î—è–∫—É—é —Å–∞–ª–æ–Ω—É —Ç–∞ –º–∞–π—Å—Ç—Ä—É –Ø–Ω—ñ –∑–∞
              –Ω–∞–π–∫—Ä–∞—â–∏–π –Ω—ñ–≥—Ç—å–æ–≤–∏–π —Å–µ—Ä–≤—ñ—Å! –ù–∞ –º–∞–Ω—ñ–∫—é—Ä –ª–∏—à–µ –¥–æ –í–∞—Å.
            </div>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          </div>
        </div>
      </div>
      <div class="btn-container">
        <button class="btn" onclick="openModal('reviewModal')">–ó–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫</button>
        <button class="btn" onclick="openModal('bookingModal')">–ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</button>
      </div>
    </section>
    <div id="reviewModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal('reviewModal')">&times;</span>
        <h2>–ó–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫</h2>
        <form class="review-form" id="reviewForm" enctype="multipart/form-data">
          <input type="text" name="name" placeholder="–í–∞—à–µ —ñ–º‚Äô—è" required />
          <textarea name="message" placeholder="–í–∞—à –≤—ñ–¥–≥—É–∫" required></textarea>

          <div class="star-rating">
            <span class="star" data-value="1">&#9733;</span>
            <span class="star" data-value="2">&#9733;</span>
            <span class="star" data-value="3">&#9733;</span>
            <span class="star" data-value="4">&#9733;</span>
            <span class="star" data-value="5">&#9733;</span>
            <input type="hidden" name="rating" required />
          </div>

          <button type="submit">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
        </form>
      </div>
    </div>
  
    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è –∑–∞–ø–∏—Å—É -->
    <div id="bookingModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal('bookingModal')">&times;</span>
        <h2>–ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</h2>
        <form>
          <input type="text" placeholder="–í–∞—à–µ —ñ–º‚Äô—è" required>
          <input type="tel" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É" required>
          <input type="datetime-local" required>
          <button type="submit">–ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</button>
        </form>
      </div>
    </div>
    <footer class="site-footer">
      <div class="container">
        <div class="footer-top">
          <div class="footer-column">
            <a class="logo">Angel studio</a>
            <p>
              –ó–∞–ª–∏—à–∞–π—Ç–µ—Å—è –Ω–∞ –∑–≤'—è–∑–∫—É –∑ –Ω–∞–º–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –Ω–æ–≤–∏–Ω —Ç–∞
              –∞–∫—Ü—ñ–π. –ú–∏ –∑–∞–≤–∂–¥–∏ —Ä–∞–¥—ñ –≤–∞—Å –≤—ñ—Ç–∞—Ç–∏!
            </p>
          </div>

          <div class="footer-column">
            <h3>–ü–æ—Å–∏–ª–∞–Ω–Ω—è</h3>
            <ul>
              <li><a href="#">–ü—Ä–æ –Ω–∞—Å</a></li>
              <li><a href="#">–ù–∞—à—ñ –ø–æ—Å–ª—É–≥–∏</a></li>
              <li><a href="#">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
              <li><a href="#">–í—ñ–¥–≥—É–∫–∏</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>–ê–∫—Ü—ñ—ó</h3>
            <ul>
              <li><a href="#">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è</a></li>
              <li><a href="#">–ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</a></li>
              <li><a href="#">–ì–∞–ª–µ—Ä–µ—è</a></li>
              <li><a href="#">–¢—Ä–µ–Ω–¥–∏</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>–ö–æ–Ω—Ç–∞–∫—Ç</h3>
            <ul>
              <li><a href="#">–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è</a></li>
              <li><a href="#">–ö–æ–º–∞–Ω–¥–∞ –µ–∫—Å–ø–µ—Ä—Ç—ñ–≤</a></li>
              <li><a href="#">–Ü–Ω–Ω–æ–≤–∞—Ü—ñ–π–Ω—ñ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏</a></li>
              <li><a href="#">–í–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>–ü–µ—Ä–µ–≤–∞–≥–∏</h3>
            <ul>
              <li><a href="#">–ù–∞—à–∞ –º—ñ—Å—ñ—è</a></li>
              <li><a href="#">–î–æ–≤—ñ—Ä–∞ –∫–ª—ñ—î–Ω—Ç—ñ–≤</a></li>
              <li><a href="#">–¢–≤–æ—Ä—á–∏–π –ø—ñ–¥—Ö—ñ–¥</a></li>
              <li><a href="#">–ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–∑—É</a></li>
            </ul>
            <form class="subscribe-form">
              <input type="email" placeholder="Email" required />
              <button type="submit">Subscribe</button>
            </form>
          </div>
        </div>

        <div class="footer-bottom">
          <div class="left">
            <strong>–ö—Ä–∞—Å–∞ 24/7</strong>
            <p>¬© Copyright 2025</p>
          </div>
          <div class="right social-icons">
            <a href="#"
              ><img
                src="https://img.icons8.com/ios-filled/20/x.png"
                alt="Close"
            /></a>
            <a href="#"
              ><img
                src="https://img.icons8.com/ios-filled/20/pinterest--v1.png"
                alt="Pinterest"
            /></a>
            <a href="#"
              ><img
                src="https://img.icons8.com/ios-filled/20/linkedin.png"
                alt="LinkedIn"
            /></a>
            <a href="#"
              ><img
                src="https://img.icons8.com/ios-filled/20/facebook.png"
                alt="Facebook"
            /></a>
          </div>
        </div>
      </div>
    </footer>
    <script>
      function openModal(id) {
        document.getElementById(id).style.display = 'block';
      }
  
      function closeModal(id) {
        document.getElementById(id).style.display = 'none';
      }
  
      // –ó–∞–∫—Ä–∏—Ç—Ç—è –ø–æ –∫–ª—ñ–∫—É –ø–æ–∑–∞ –º–æ–¥–∞–ª—å–Ω–∏–º –≤—ñ–∫–Ω–æ–º
      window.onclick = function(event) {
        if (event.target.classList.contains('modal')) {
          event.target.style.display = 'none';
        }
      }
    </script>
    <script>
      // ‚≠ê –ó–Ü–†–ö–ò
      const stars = document.querySelectorAll('.star-rating .star');
      const ratingInput = document.querySelector('input[name="rating"]');
      let selectedRating = 0;

      stars.forEach(star => {
        star.addEventListener('mouseover', () => {
          const value = parseInt(star.getAttribute('data-value'));
          highlightStars(value);
        });

        star.addEventListener('mouseout', () => {
          highlightStars(selectedRating);
        });

        star.addEventListener('click', () => {
          selectedRating = parseInt(star.getAttribute('data-value'));
          ratingInput.value = selectedRating; // üî• –≤–∞–∂–ª–∏–≤–æ!
          highlightStars(selectedRating);
        });
      });

      function highlightStars(rating) {
        stars.forEach(star => {
          const starValue = parseInt(star.getAttribute('data-value'));
          star.classList.toggle('selected', starValue <= rating);
          star.classList.toggle('hovered', starValue <= rating);
        });
      }

      // üì§ –í–Ü–î–ü–†–ê–í–ö–ê –§–û–†–ú–ò
      document.querySelector('#reviewModal form').addEventListener('submit', async function (e) {
        e.preventDefault();
        const name = this.querySelector('input[name="name"]').value.trim();
        const message = this.querySelector('textarea[name="message"]').value.trim();
        const rating = Number(this.querySelector('input[name="rating"]').value); // üî• –±–µ—Ä–µ–º–æ —ñ–∑ hidden

        if (!name || !message || !rating) {
          alert('‚ùó –ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è, –≤–∫–ª—é—á–∞—é—á–∏ –æ—Ü—ñ–Ω–∫—É');
          return;
        }

        try {
          const response = await fetch('/api/reviews', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ name, message, rating }) // ‚úÖ
          });

          const data = await response.json();
          if (response.ok) {
            alert('‚úÖ –í—ñ–¥–≥—É–∫ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ!');
            this.reset();
            selectedRating = 0; // —Å–∫–∏–¥–∞—î–º–æ –≤–∏–±—ñ—Ä –∑—ñ—Ä–æ–∫
            highlightStars(0);
            closeModal('reviewModal');
          } else {
            alert('‚ùå –ü–æ–º–∏–ª–∫–∞: ' + data.error);
          }
        } catch (err) {
          alert('‚ùå –í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ —Ñ–æ—Ä–º–∏');
          console.error(err);
        }
      });
    </script>
  </body>
</html>
